<style>
  div.qce-options {
    margin-top: 30px;
    margin-bottom: 30px;
  }

  /*li, p {
    display: ;
  }*/

  span.assignment {
    color: green;
    margin-left: 30px;
  }
</style>

<div class="row">
  <div class="col-md-12">
    <h2 class="page-header">
      <span><%= "QCE for #{@qce.rating_period.coverage}" %></span>
      <span class="pull-right label <%= @qce.completed? ? 'label-success' : 'label-danger' %>"><%= @qce.completed? ? 'Completed' : 'Incomplete' %></span>
    </h2>
  </div>  <!-- .col-md-12 -->
</div>  <!-- .row -->

<div class="qce-options">  
  <h3 class="page-header">Ratings for Instruction/Teaching Effectiveness</h3>
  <ol>
    <!-- Assign to Self -->
    <div id="assign-self">
      <h4>
        <li>Assign to Self <span class="assignment <%= 'glyphicon glyphicon-ok' if @qce.has_assigned_self_rating? %>"></span></li>
      </h4>
      <div class="row">
        <div class="col-md-12">
          <div class="col-md-3">
            <div class="form-group">
              <%= button_to 'Assign', qce_self_instruction_rating_path(@qce), disabled: @qce.has_assigned_self_rating?, class: 'btn btn-success' %>
              <!-- Display the link for the newly created Rating -->
            </div>
          </div>
        </div>
      </div>
    </div> <!-- #assign-self -->

    <!-- Assign to Immediate Supervisor -->
    <div id="assign-supervisor">
      <h4>
        <li>Assign to Immediate Supervisor <span class="assignment <%= 'glyphicon glyphicon-ok' if @qce.has_assigned_supervisor_rating? %>"></span></li>
      </h4>
      <% if @qce.has_assigned_supervisor_rating? %>
        <%= render 'user/qces/selected_supervisor' %>
        <%= render partial: 'user/qces/delete_button', locals: { route_path: qce_supervisor_instruction_rating_path(@qce) } %>
        <!-- display link to supervisor -->
      <% else %>
        <%= render 'user/qces/supervisor_selection_form' %>
      <% end %>
    </div>  <!-- #assign-supervisor -->

    <!-- Assign to 5 Peers  -->
    <div id="assign-peers">
      <h4>
        <li>Assign to 5 Peers <span class="assignment <%= 'glyphicon glyphicon-ok' if @qce.has_assigned_peer_rating? %>"></span></li>
      </h4>
      <% if @qce.has_assigned_peer_rating? %>
        <%= render 'user/qces/selected_peers' %>
        <%= render partial: 'user/qces/delete_button', locals: { route_path: qce_peer_instruction_rating_path(@qce) } %>
        <!-- display link to Peer -->
      <% else %>
        <%= render 'user/qces/peer_selection_form' %>
      <% end %>
    </div>  <!-- #assign-peers -->    

    <!-- Assign to 30 students -->
    <div id="assign-supervisor">
      <h4><li>Assign to 30 Students</li></h4>
      <%= form_for qce_student_instruction_rating_path(@qce) do |f| %>
        <div class="row">
          <div class="col-md-12">
            <div class="col-md-3">
              <div class="form-group">
                <%= f.collection_select :student_group_id, Student.select(:group_no).distinct, :group_no, :group_no, { include_blank: '--- Select Student Group ---' }, class: 'form-control' %>
              </div>
              <div class="form-group">
                <%= f.submit 'Assign', class: 'btn btn-success' %>
              </div>              
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </ol>
</div> <!-- .qce-options -->

<div class="qce-options">  
  <h3 class="page-header">Specify a support area to rate:</h3>
  <% if false %>
  <%= form_for @qce do |f| %>
    <div class="row">
      <div class="col-md-3">
        <div class="form-group">
          <%= f.label :support_area_type, 'Support Area' %>
          <%= f.select :support_area_type, %w[Research Production Extension], { include_blank: '-- Please choose --'}, class: 'form-control' %>
        </div>
        <div class="form-group">
          <%= f.submit class: 'btn btn-primary' %>
        </div>
      </div>
    </div>    
  <% end %>
  <% end %>
</div>