<% provide(:content_id, 'id=leaves-content') %>
<% display_number = 0 %>
<div>
  <%= link_to new_admin_employee_leave_path, class: 'btn btn-primary' do %>
    <span class="glyphicon glyphicon-plus"></span> New
  <% end %>
</div>
<table id="table-master" class="table table-striped table-bordered">
  <thead>
    <tr>
      <th>#</th>  
      <th>Date Filed</th>
      <th>Start At</th>
      <th>End At</th>
      <th style="width: 138px;">Duration<em> (in days)</em></th>
      <th colspan="2">Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @leaves.each do |leave| %>
      <tr>
        <td><%= display_number += 1 %></td>
        <td><%= leave.filed_at %></td>
        <td><%= link_to leave.degree_course, admin_employee_leave_path(@employee, leave) %></td>
        <td><%= leave_level_to_string(leave.level) %></td>
        <td><%= leave.start_at %></td>
        <td><%= leave.end_at %></td>
        <td>
          <%= link_to edit_admin_employee_leave_path(@employee, leave)   do %>
            <span class="glyphicon glyphicon-pencil"></span>
          <% end %>
          <%= link_to admin_employee_leave_path(@employee, leave), method: :delete, data: { confirm: 'Do you really want to delete this record?' } do %>
            <span class="glyphicon glyphicon-remove"></span>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>